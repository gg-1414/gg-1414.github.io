@import 'tools.scss';

.light-theme {
  .projects-section {
    .project .stack {
      border-top: 1px solid black;
    }
  }
}

.dark-theme {
  .projects-section {
    .project .stack {
      border-top: 1px solid white;
    }
  }
}

.projects-section {
  .project {
    margin-top: s(7);

    @include media(sm-min) {
      margin-top: s(9);
    }

    &:first-child {
      margin-top: s(5);

      @include media(sm-min) {
        margin-top: s(6); 
      }
    }

    &:last-child {
      margin-bottom: s(9);
    }

    .content, .links {
      padding: 0 s(2);

      @include media(sm-min) {
        padding: 0 s(3);
      }
    }
  
    .title {
      display: flex;
      margin-bottom: s(2);

      @include media(sm-min) {
        margin-bottom: s(3);
      } 
  
      h4 {
        flex: 1;
      }

      .display-btn {
        background-color: transparent;
        border: none;
        cursor: pointer;
        outline: none;

        img {
          @include media(xs-min) {
            width: s(2.5);
          }
        }
      }
    }

    .text {
      .description {
        padding: 0 0 s(1.25);

        @include media(sm-min) {
          max-width: 95%;
          padding: 0 0 s(2);
        }
      }

      .stack {
        padding: s(1.5) 0;

        @include media(sm-min) {
          padding: s(2) 0;
        }
      }
    }

    .collapsible-content {
      @include media(md-max) {
        display: none;
      }

      &.active {
        display: block;
      }
    }

    .preview {
      img {
        width: 100%; 
      }
    }

    .links {
      padding-top: s(2);
      display: flex; 

      .btn {
        flex: 1;

        &:first-child {
          margin-right: s(1.5);
        }

        @include media(sm-min) {
          font-size: s(2.5); 
          line-height: 2;
        }
      }
    }
  }

  // layout change for desktop 
  @include media(md-min) {
    .container {
      padding: s(4) s(8);
    }

    .project {
      display: grid; 
      grid-template-rows: auto auto;
      grid-template-columns: 1fr 1.5fr;
      grid-template-areas: 
        "image content"
        "image links";
      grid-gap: 0 s(4);
      
      .content {
        grid-area: content;
      }

      .preview {
        grid-area: image; 
        align-self: center;
      }

      .links {
        grid-area: links;
        align-self: self-end;

        .btn {
          max-height: s(6);
          max-width: s(29);

          &:first-child {
            margin-right: s(2);
          }
        }
      }

      .down-arrow-icon {
        display: none;
      }
    }
  }
}

@keyframes conditionalOpen {
  from { 
    transform: sY(0);
    // height: 0; 
  }
  to { 
    transform: sY(1);
    // height: auto;
  }
}

@keyframes conditionalClose {
  from { 
    transform: sY(1); 
    // height: auto; 
  }
  to { 
    transform: sY(0);
    // height: 0;
  }
}